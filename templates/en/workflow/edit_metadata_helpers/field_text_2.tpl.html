			<tr id="tr_xsd_display_fields_{$xsdmf.xsdmf_id}_{$loop_num}" {if ($details[$temp_fld_id][$loop_num] == '' && $details[$temp_fld_id][$check_num] == '' && $show_num != 0) || $xsdmf.xsdmf_invisible == 1}style="display:none"{/if}>
			  <td width="200" bgcolor="{$cell_color}" class="default" valign="top">
			  
				<b>{$xsdmf.xsdmf_title}{if $xsdmf.xsdmf_multiple == 1} {math equation="x + 1" x=$loop_num}{/if}</b>
				{if $xsdmf.xsdmf_multiple == 1}<img id="xsd_display_fields_{$xsdmf.xsdmf_id}_{$loop_num}_arrow" src="/images/downarrow.png" onclick="javascript:swapAuthor('xsd_display_fields_{$xsdmf.xsdmf_id}','{$xsdmf.xsdmf_attached_xsdmf_id}','{$loop_num}', 1);" style="cursor: pointer;{if $details[$temp_fld_id][$loop_num] == ''}display: none;{/if}" />{if $loop_num != 0 }<img src="/images/uparrow.png" onclick="javascript:swapAuthor('xsd_display_fields_{$xsdmf.xsdmf_id}','{$xsdmf.xsdmf_attached_xsdmf_id}','{$loop_num}', -1);" style="cursor: pointer" />{/if}{/if}
				{if $xsdmf.xsdmf_required == 1 && $loop_num == 0} * {/if}<br />
				{if $xsdmf.xsdmf_multiple == 1 && $loop_num == 0}<i>(More {$xsdmf.xsdmf_title} input boxes will appear as they are used up)</i>{/if}
			  </td>
			  <td bgcolor="{$value_color}">
				{assign var="field_id" value="xsd_display_fields_"|cat:$xsdmf.xsdmf_id|cat:"_"|cat:$loop_num}
				<input class="default" type="text" id="{$field_id}" size="50"
					{if $xsdmf.xsdmf_multiple == 1}
						name="xsd_display_fields[{$xsdmf.xsdmf_id}]{$squares}" 
						value="{$details[$temp_fld_id][$loop_num]|escape:"html"}" 
						onKeyUp="javascript:unhideRow('xsd_display_fields_{$xsdmf.xsdmf_id}', 'edit_metadata_form_table');" 
						onFocus="javascript:unhideRow('xsd_display_fields_{$xsdmf.xsdmf_id}', 'edit_metadata_form_table');" 
						onChange="javascript:unhideRow('xsd_display_fields_{$xsdmf.xsdmf_id}', 'edit_metadata_form_table');" />
					{else}
						name="xsd_display_fields[{$xsdmf.xsdmf_id}]" 
						value="{$details[$temp_fld_id]|escape:"html"}" />
					{/if}
					
				{include file="error_icon.tpl.html" field="xsd_display_fields["|cat:$xsdmf.xsdmf_id|cat:"]"|cat:$squares}
				{if $xsdmf.xsdmf_attached_xsdmf_id != ""}
					{assign var="attached_xsdmf_id" value=$xsdmf.xsdmf_attached_xsdmf_id}
					{section name='aa' loop=$xsd_display_fields}{if $xsd_display_fields[aa].xsdmf_id == $attached_xsdmf_id}{assign var="attached_xsdmf" value=$xsd_display_fields[aa]}{/if}{/section}
					{assign var="attached_field_name" value="xsd_display_fields_"|cat:$attached_xsdmf_id|cat:"_"|cat:$loop_num}						
					{include file='workflow/edit_metadata_helpers/attached_'|cat:$attached_xsdmf.xsdmf_html_input|cat:'.tpl.html'}
				{/if}
					{if $xsd_display_fields[i].xsdmf_required == 1 && $loop_num == 0}
        		    <script language="JavaScript">
			        <!--
        		    xsd_display_fields[xsd_display_fields.length] = new Option('xsd_display_fields[{$xsd_display_fields[i].xsdmf_id}]{$squares}', '{$xsd_display_fields[i].xsdmf_title}');
		            required_xsd_display_fields[required_xsd_display_fields.length] = new Option('xsd_display_fields[{$xsd_display_fields[i].xsdmf_id}]{$squares}', 'whitespace');
        		    //-->
		            </script>
        		    {/if}
			  </td>
				  {if $xsdmf.xsdmf_multiple == 1}
				    {include file='workflow/compare_records_helpers/get_right_column.tpl.html input_field_name="xsd_display_fields["|cat:$xsdmf.xsdmf_id|cat:"]"|cat:$squares
				  	  attached_field_name=$attached_field_name attached_xsdmf=$attached_xsdmf }
				  {else}
				    {include file='workflow/compare_records_helpers/get_right_column.tpl.html input_field_name="xsd_display_fields["|cat:$xsdmf.xsdmf_id|cat:"]" 
				  	  attached_field_name=$attached_field_name attached_xsdmf=$attached_xsdmf }
				  {/if}
			</tr>

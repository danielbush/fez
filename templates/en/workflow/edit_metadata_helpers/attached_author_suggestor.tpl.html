<br />
<span class="default"><b>{$attached_xsdmf.xsdmf_title}:</b></span>
{assign var="attached_field_id" value="xsd_display_fields_"|cat:$attached_xsdmf_id|cat:"_"|cat:$loop_num}
<select class="default" id="{$attached_field_id}" name="{$attached_field_id}">	
   <option value="0">(none)</option>
   {if ($details[$temp_fld_id][$loop_num] != "" && $details[$attached_xsdmf_id][$loop_num] != 0)}
	   {if is_array($details[$attached_xsdmf_id])}
		 {if $details[$attached_xsdmf_id][$loop_num] != ""}
		   {assign var="author_id" value=$details[$attached_xsdmf_id][$loop_num]}
		   <option value="{$details[$temp_attached_xsdmf_id][$loop_num]}" selected>{$author_ids[$author_id]} ({$details[$attached_xsdmf_id][$loop_num]})</option>
		  {/if}
	   {else}
		  {if $details[$attached_xsdmf_id] != "" && $loop_num == 0}
			{assign var="author_id" value=$details[$attached_xsdmf_id]}
		 	<option value="{$details[$attached_xsdmf_id]}" selected>{$author_ids[$author_id]} ({$details[$attached_xsdmf_id]})</option>										   
		  {/if}
	   {/if}
	{/if}
</select>
<!-- Google suggest style selection -->
<input type="text" name="{$attached_field_id}_lookup" id="{$attached_field_id}_lookup" size="30"
	autocomplete="off" class="default" />
<script type="text/javascript">
<!--
function register_suggest_{$attached_field_id}_lookup() {ldelim}
    window.oTextbox_{$attached_field_id}_lookup
						= new AutoSuggestControl(document.wfl_form1, 
								'{$attached_field_id}', 
								document.getElementById('xsd_display_fields_{$xsdmf.xsdmf_id}_{$loop_num}'), 
								document.getElementById('{$attached_field_id}_lookup'),
								new StateSuggestions('Author', 'suggest', false, 'class.author.php'), 
								'authorSuggestorCallback');
{rdelim}
// -->
</script>
<div class="register_suggest" name="register_suggest">register_suggest_{$attached_field_id}_lookup();</div>